/* microservices_jooq PostgreSQL database */

CREATE TABLE roles (
  role_id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  role_name VARCHAR(50) NOT NULL
);

CREATE TABLE account (
  account_id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  username VARCHAR(250) UNIQUE NOT NULL,
  password VARCHAR(250) NOT NULL
);

CREATE TABLE account_role (
  account_id INTEGER REFERENCES account (account_id) ON UPDATE CASCADE ON DELETE CASCADE,
  role_id INTEGER REFERENCES roles (role_id) ON UPDATE CASCADE
);


CREATE TABLE reports (
  report_id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  created_at date NOT NULL,
  message VARCHAR(255) NOT NULL
);
